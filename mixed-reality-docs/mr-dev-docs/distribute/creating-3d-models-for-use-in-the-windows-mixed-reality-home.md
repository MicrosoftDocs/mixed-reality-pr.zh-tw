---
title: 建立用於住家的 3D 模型
description: HoloLens 和沉浸式 (VR) 耳機上的 Windows Mixed Reality 首頁中使用之3D 模型的資產需求和撰寫指導方針。
author: thmignon
ms.author: thmignon
ms.date: 03/21/2018
ms.topic: article
keywords: 3D、模型化、模型化指引、資產需求、撰寫指導方針、啟動器、3D 啟動器、材質、材質、複雜度、三角形、網格、多邊形、polycount、限制、混合現實耳機、windows mixed reality 耳機、虛擬實境耳機
ms.openlocfilehash: 17014e3deaaa161dd7949a55679b916e872ad5a7
ms.sourcegitcommit: 8d3b84d2aa01f078ecf92cec001a252e3ea7b24d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/23/2020
ms.locfileid: "97757782"
---
# <a name="create-3d-models-for-use-in-the-home"></a><span data-ttu-id="376ff-104">建立用於住家的 3D 模型</span><span class="sxs-lookup"><span data-stu-id="376ff-104">Create 3D models for use in the home</span></span>

<span data-ttu-id="376ff-105">[Windows Mixed Reality home](../discover/navigating-the-windows-mixed-reality-home.md)是使用者在啟動應用程式之前所居住的起點。</span><span class="sxs-lookup"><span data-stu-id="376ff-105">The [Windows Mixed Reality home](../discover/navigating-the-windows-mixed-reality-home.md) is the starting point where users land before launching applications.</span></span> <span data-ttu-id="376ff-106">針對 Windows Mixed Reality 耳機設計您的應用程式時，請使用 [3d 模型作為應用程式啟動器](implementing-3d-app-launchers.md) ，並將 [3d 深層連結放入 Windows Mixed Reality 首頁](implementing-3d-app-launchers.md#3d-deep-links-secondarytiles)。</span><span class="sxs-lookup"><span data-stu-id="376ff-106">When designing your application for Windows Mixed Reality headsets, use a [3D model as an app launcher](implementing-3d-app-launchers.md) and place [3D deep links into the Windows Mixed Reality home](implementing-3d-app-launchers.md#3d-deep-links-secondarytiles).</span></span> <span data-ttu-id="376ff-107">本文概述建立與 Windows Mixed Reality 首頁相容之3D 模型的指導方針。</span><span class="sxs-lookup"><span data-stu-id="376ff-107">This article outlines the guidelines for creating 3D models compatible with the Windows Mixed Reality home.</span></span>

## <a name="asset-requirements-overview"></a><span data-ttu-id="376ff-108">資產需求總覽</span><span class="sxs-lookup"><span data-stu-id="376ff-108">Asset requirements overview</span></span>

<span data-ttu-id="376ff-109">建立 Windows Mixed Reality 的3D 模型時，有一些資產必須符合的需求：</span><span class="sxs-lookup"><span data-stu-id="376ff-109">When creating 3D models for Windows Mixed Reality, there are some requirements that all assets must meet:</span></span> 
1. <span data-ttu-id="376ff-110">[匯出](#exporting-models) -資產必須以 glb 檔案格式傳遞 (二進位 glTF) </span><span class="sxs-lookup"><span data-stu-id="376ff-110">[Exporting](#exporting-models) - Assets must be delivered in the .glb file format (binary glTF)</span></span>
2. <span data-ttu-id="376ff-111">[模型](#modeling-guidelines) 化-資產必須小於1萬個三角形，每個」 lod 不能超過64個節點和 32 submeshes</span><span class="sxs-lookup"><span data-stu-id="376ff-111">[Modeling](#modeling-guidelines) - Assets must be less than 10k triangles, have no more than 64 nodes and 32 submeshes per LOD</span></span>
3. <span data-ttu-id="376ff-112">[材質-紋理](#material-guidelines) 不能大於 4096 x 4096，且最小的 mip 地圖在任一維度上都不能大於4</span><span class="sxs-lookup"><span data-stu-id="376ff-112">[Materials](#material-guidelines) - Textures can't be larger than 4096 x 4096 and the smallest mip map should be no larger than 4 on either dimension</span></span>
4. <span data-ttu-id="376ff-113">[動畫](#animation-guidelines) -動畫的長度不能超過20分鐘， (36000 的主要畫面格) 且必須包含 <= 8192 的變形目標頂點</span><span class="sxs-lookup"><span data-stu-id="376ff-113">[Animation](#animation-guidelines) - Animations can't be longer than 20 minutes at 30 FPS (36,000 keyframes) and must contain <= 8192 morph target vertices</span></span>
5. <span data-ttu-id="376ff-114">[優化](#optimizations) -資產應使用 [WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases)進行優化。</span><span class="sxs-lookup"><span data-stu-id="376ff-114">[Optimizing](#optimizations) - Assets should be optimized using the [WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases).</span></span> <span data-ttu-id="376ff-115">*在 WINDOWS 作業系統版本 <= 1709*\* 上，建議在 windows 作業系統版本 >= 1803 上使用</span><span class="sxs-lookup"><span data-stu-id="376ff-115">*Required on Windows OS Versions <= 1709*\* and recommended on Windows OS versions >= 1803</span></span>

<span data-ttu-id="376ff-116">本文的其餘部分將詳細說明這些需求和額外的指導方針，以確保您的模型可與 Windows Mixed Reality 首頁正常搭配運作。</span><span class="sxs-lookup"><span data-stu-id="376ff-116">The rest of this article includes a detailed overview of these requirements and extra guidelines to ensure your models work well with the Windows Mixed Reality home.</span></span> 

## <a name="detailed-guidance"></a><span data-ttu-id="376ff-117">詳細指引</span><span class="sxs-lookup"><span data-stu-id="376ff-117">Detailed guidance</span></span>

### <a name="exporting-models"></a><span data-ttu-id="376ff-118">匯出模型</span><span class="sxs-lookup"><span data-stu-id="376ff-118">Exporting models</span></span>

<span data-ttu-id="376ff-119">Windows Mixed Reality 首頁預期會使用 glb 檔案格式搭配內嵌影像和二進位資料來傳遞3D 資產。</span><span class="sxs-lookup"><span data-stu-id="376ff-119">The Windows Mixed Reality home expects 3D assets to be delivered using the .glb file format with embedded images and binary data.</span></span> <span data-ttu-id="376ff-120">Glb 是 glTF 格式的二進位版本，這是 Khronos 群組所維護之3D 資產傳遞的專利免費開放標準。</span><span class="sxs-lookup"><span data-stu-id="376ff-120">Glb is the binary version of the glTF format, which is a royalty free open standard for 3D asset delivery maintained by the Khronos group.</span></span> <span data-ttu-id="376ff-121">隨著 glTF 發展成為互通3D 內容的產業標準，Microsoft 會在 Windows 應用程式和經驗中支援此格式。</span><span class="sxs-lookup"><span data-stu-id="376ff-121">As glTF evolves as an industry standard for interoperable 3D content, so will Microsoft’s support for the format across Windows apps and experiences.</span></span> <span data-ttu-id="376ff-122">如果您尚未建立 glTF 資產，您可以在 [glTF 工作群組 github] 頁面上找到 [支援的匯出工具和轉換器清單](https://github.com/KhronosGroup/glTF/blob/master/README.md#converters-and-exporters) 。</span><span class="sxs-lookup"><span data-stu-id="376ff-122">If you haven't created a glTF asset before you can find a [list of supported exporters and converters](https://github.com/KhronosGroup/glTF/blob/master/README.md#converters-and-exporters) on the glTF working group github page.</span></span>  

### <a name="modeling-guidelines"></a><span data-ttu-id="376ff-123">模型指導方針</span><span class="sxs-lookup"><span data-stu-id="376ff-123">Modeling guidelines</span></span>

<span data-ttu-id="376ff-124">Windows 預期會使用下列模型化指導方針來產生資產，以確保與混合現實首頁體驗的相容性。</span><span class="sxs-lookup"><span data-stu-id="376ff-124">Windows expects assets to be generated using the following modeling guidelines to ensure compatibility with the Mixed Reality home experience.</span></span> <span data-ttu-id="376ff-125">在您選擇的程式中建立模型時，請記住下列建議和限制：</span><span class="sxs-lookup"><span data-stu-id="376ff-125">When modeling in your program of your choice, keep in mind the following recommendations and limitations:</span></span>
1. <span data-ttu-id="376ff-126">向上軸應設定為 "Y"。</span><span class="sxs-lookup"><span data-stu-id="376ff-126">The Up axis should be set to “Y”.</span></span>
2. <span data-ttu-id="376ff-127">資產應「轉寄」朝正 Z 軸。</span><span class="sxs-lookup"><span data-stu-id="376ff-127">The asset should face “forward” towards the positive Z axis.</span></span>
3. <span data-ttu-id="376ff-128">所有資產都應建立于場景原點的地面平面 (0、0、0) </span><span class="sxs-lookup"><span data-stu-id="376ff-128">All assets should be built on the ground plane at the scene origin (0,0,0)</span></span>
4. <span data-ttu-id="376ff-129">工作單位應該設定為計量和資產，以便能夠以全球規模撰寫資產</span><span class="sxs-lookup"><span data-stu-id="376ff-129">Working Units should be set to meters and assets so that assets can be authored at world scale</span></span>
5. <span data-ttu-id="376ff-130">所有網格都不需要合併，但如果您是以資源受限的裝置為目標，則建議使用此選項。</span><span class="sxs-lookup"><span data-stu-id="376ff-130">All meshes don't need to be combined, but it's recommended if you're targeting resource constrained devices</span></span>
6. <span data-ttu-id="376ff-131">所有網格都應該共用一份材質，只針對整個資產使用一個材質組</span><span class="sxs-lookup"><span data-stu-id="376ff-131">All meshes should share one material, with only one texture set being used for the whole asset</span></span>
7. <span data-ttu-id="376ff-132">UVs 必須以0-1 空間中的正方形排列來配置。</span><span class="sxs-lookup"><span data-stu-id="376ff-132">UVs must be laid out in a square arrangement in the 0-1 space.</span></span> <span data-ttu-id="376ff-133">避免將材質平平鋪，不過它們是允許的。</span><span class="sxs-lookup"><span data-stu-id="376ff-133">Avoid tiling textures although they're permitted.</span></span>
8. <span data-ttu-id="376ff-134">不支援多 UVs</span><span class="sxs-lookup"><span data-stu-id="376ff-134">Multi-UVs aren't supported</span></span>
9. <span data-ttu-id="376ff-135">不支援雙面材質</span><span class="sxs-lookup"><span data-stu-id="376ff-135">Double-sided materials aren't supported</span></span>

### <a name="triangle-counts-and-levels-of-detail-lods"></a><span data-ttu-id="376ff-136"> (LODs) 的三角形計數和詳細資料層級</span><span class="sxs-lookup"><span data-stu-id="376ff-136">Triangle counts and levels of detail (LODs)</span></span>

<span data-ttu-id="376ff-137">Windows Mixed Reality home 不支援10000三角形以上的模型。</span><span class="sxs-lookup"><span data-stu-id="376ff-137">The Windows Mixed Reality home doesn't support models with more than 10,000 triangles.</span></span> <span data-ttu-id="376ff-138">建議您先分成三角形網格再進行匯出，以確保它們不會超過此計數。</span><span class="sxs-lookup"><span data-stu-id="376ff-138">It’s recommended you triangulate your meshes before exporting to ensure they don't exceed this count.</span></span> <span data-ttu-id="376ff-139">Windows MR 也支援選擇性幾何等級的詳細 (LODs) ，以確保效能和高品質的體驗。</span><span class="sxs-lookup"><span data-stu-id="376ff-139">Windows MR also supports optional geometry levels of detail (LODs) to ensure a performant and high-quality experience.</span></span> <span data-ttu-id="376ff-140">[WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases) 可協助您將模型的三個版本結合成單一 glb 模型。</span><span class="sxs-lookup"><span data-stu-id="376ff-140">[The WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases) will help you combine 3 versions of your model into a single .glb model.</span></span> <span data-ttu-id="376ff-141">Windows 會根據模型所佔用的螢幕實際空間量來決定要顯示的」 LOD。</span><span class="sxs-lookup"><span data-stu-id="376ff-141">Windows determines which LOD to display based on the amount of screen real estate the model is taking up.</span></span> <span data-ttu-id="376ff-142">只有3個」 LOD 層級支援下列建議的三角形計數：</span><span class="sxs-lookup"><span data-stu-id="376ff-142">Only 3 LOD levels are supported with the following recommended triangle counts:</span></span>
<br>

|  <span data-ttu-id="376ff-143">」 LOD 層級</span><span class="sxs-lookup"><span data-stu-id="376ff-143">LOD Level</span></span>  |  <span data-ttu-id="376ff-144">建議的三角形計數</span><span class="sxs-lookup"><span data-stu-id="376ff-144">Recommended Triangle Count</span></span>  |  <span data-ttu-id="376ff-145">最大三角形計數</span><span class="sxs-lookup"><span data-stu-id="376ff-145">Max Triangle Count</span></span> | 
|------|------|------|
|  <span data-ttu-id="376ff-146">」 LOD 0</span><span class="sxs-lookup"><span data-stu-id="376ff-146">LOD 0</span></span> |  <span data-ttu-id="376ff-147">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-147">10,000</span></span> |  <span data-ttu-id="376ff-148">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-148">10,000</span></span> | 
|  <span data-ttu-id="376ff-149">」 LOD 1</span><span class="sxs-lookup"><span data-stu-id="376ff-149">LOD 1</span></span> |  <span data-ttu-id="376ff-150">5,000</span><span class="sxs-lookup"><span data-stu-id="376ff-150">5,000</span></span>  |  <span data-ttu-id="376ff-151">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-151">10,000</span></span> | 
|  <span data-ttu-id="376ff-152">」 LOD 2</span><span class="sxs-lookup"><span data-stu-id="376ff-152">LOD 2</span></span> |  <span data-ttu-id="376ff-153">2,500</span><span class="sxs-lookup"><span data-stu-id="376ff-153">2,500</span></span>  |  <span data-ttu-id="376ff-154">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-154">10,000</span></span> | 

### <a name="node-counts-and-submesh-limits"></a><span data-ttu-id="376ff-155">節點計數和 submesh 限制</span><span class="sxs-lookup"><span data-stu-id="376ff-155">Node counts and submesh limits</span></span>

<span data-ttu-id="376ff-156">Windows Mixed Reality home 不支援每個」 LOD 具有64節點或 32 submeshes 的模型。</span><span class="sxs-lookup"><span data-stu-id="376ff-156">The Windows Mixed Reality home doesn't support models with more than 64 nodes or 32 submeshes per LOD.</span></span> <span data-ttu-id="376ff-157">節點是 [glTF 規格](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy) 中的概念，可定義場景中的物件。</span><span class="sxs-lookup"><span data-stu-id="376ff-157">Nodes are a concept in the [glTF specification](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy) that define the objects in the scene.</span></span> <span data-ttu-id="376ff-158">Submeshes 是在物件之網格的 [基本](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes) 陣列中定義。</span><span class="sxs-lookup"><span data-stu-id="376ff-158">Submeshes are defined in the array of [primitives](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes) on the mesh in the object.</span></span> 

|  <span data-ttu-id="376ff-159">功能</span><span class="sxs-lookup"><span data-stu-id="376ff-159">Feature</span></span> |  <span data-ttu-id="376ff-160">描述</span><span class="sxs-lookup"><span data-stu-id="376ff-160">Description</span></span>  |  <span data-ttu-id="376ff-161">支援的最大值</span><span class="sxs-lookup"><span data-stu-id="376ff-161">Max Supported</span></span> | <span data-ttu-id="376ff-162">文件</span><span class="sxs-lookup"><span data-stu-id="376ff-162">Documentation</span></span> |
|------|------|------|------|
|  <span data-ttu-id="376ff-163">節點</span><span class="sxs-lookup"><span data-stu-id="376ff-163">Nodes</span></span> |  <span data-ttu-id="376ff-164">GlTF 場景中的物件</span><span class="sxs-lookup"><span data-stu-id="376ff-164">Objects in the glTF Scene</span></span> |  <span data-ttu-id="376ff-165">每個」 LOD 64</span><span class="sxs-lookup"><span data-stu-id="376ff-165">64 per LOD</span></span> | [<span data-ttu-id="376ff-166">這裡</span><span class="sxs-lookup"><span data-stu-id="376ff-166">Here</span></span>](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy)|
|  <span data-ttu-id="376ff-167">Submeshes</span><span class="sxs-lookup"><span data-stu-id="376ff-167">Submeshes</span></span> |  <span data-ttu-id="376ff-168">所有網格上的基本專案總和</span><span class="sxs-lookup"><span data-stu-id="376ff-168">Sum of primitives on all meshes</span></span> |  <span data-ttu-id="376ff-169">每個」 LOD 32</span><span class="sxs-lookup"><span data-stu-id="376ff-169">32 per LOD</span></span> | [<span data-ttu-id="376ff-170">這裡</span><span class="sxs-lookup"><span data-stu-id="376ff-170">Here</span></span>](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes)|

## <a name="material-guidelines"></a><span data-ttu-id="376ff-171">材質指導方針</span><span class="sxs-lookup"><span data-stu-id="376ff-171">Material guidelines</span></span>

<span data-ttu-id="376ff-172">材質應使用 .PBR 裸機粗糙度工作流程來準備。</span><span class="sxs-lookup"><span data-stu-id="376ff-172">Textures should be prepared using a PBR metal roughness workflow.</span></span> <span data-ttu-id="376ff-173">首先，建立一組完整的材質，包括 >albedo、Normal、遮蔽、金屬和粗糙度。</span><span class="sxs-lookup"><span data-stu-id="376ff-173">Begin by creating a full set of textures including Albedo, Normal, Occlusion, Metallic, and Roughness.</span></span> <span data-ttu-id="376ff-174">Windows Mixed Reality 支援使用解析度最高4096x4096 的材質，但建議您在512x512 撰寫。</span><span class="sxs-lookup"><span data-stu-id="376ff-174">Windows Mixed Reality supports textures with resolutions up to 4096x4096 but it's recommended that you author at 512x512.</span></span> <span data-ttu-id="376ff-175">紋理應以4倍數的解析度撰寫。</span><span class="sxs-lookup"><span data-stu-id="376ff-175">Textures should be authored at resolutions in multiples of 4.</span></span> <span data-ttu-id="376ff-176">這是在匯出步驟中套用至材質之壓縮格式的要求，如下所述。</span><span class="sxs-lookup"><span data-stu-id="376ff-176">This is a requirement for the compression format applied to textures in the exporting steps outlined below.</span></span> <span data-ttu-id="376ff-177">產生 mip map 或材質時，最低 mip 必須最多為4x4。</span><span class="sxs-lookup"><span data-stu-id="376ff-177">When generating mip maps or a texture, the lowest mip must be a maximum of 4x4.</span></span>
<br>

|  <span data-ttu-id="376ff-178">建議的材質大小</span><span class="sxs-lookup"><span data-stu-id="376ff-178">Recommended Texture Size</span></span>  |  <span data-ttu-id="376ff-179">紋理大小上限</span><span class="sxs-lookup"><span data-stu-id="376ff-179">Max Texture Size</span></span> | <span data-ttu-id="376ff-180">最低 Mip</span><span class="sxs-lookup"><span data-stu-id="376ff-180">Lowest Mip</span></span>
|----|----|----|
|  <span data-ttu-id="376ff-181">512x512</span><span class="sxs-lookup"><span data-stu-id="376ff-181">512x512</span></span>  |  <span data-ttu-id="376ff-182">4096x4096</span><span class="sxs-lookup"><span data-stu-id="376ff-182">4096x4096</span></span> | <span data-ttu-id="376ff-183">最大4x4</span><span class="sxs-lookup"><span data-stu-id="376ff-183">max 4x4</span></span>|

### <a name="albedo-base-color-map"></a><span data-ttu-id="376ff-184">>albedo (基本色彩) 地圖</span><span class="sxs-lookup"><span data-stu-id="376ff-184">Albedo (base color) map</span></span>

<span data-ttu-id="376ff-185">沒有光源資訊的原始色彩。</span><span class="sxs-lookup"><span data-stu-id="376ff-185">Raw color with no lighting information.</span></span> <span data-ttu-id="376ff-186">此地圖也包含金屬圖中金屬 (白色的反射率和擴散資訊，) 和 insulator 在金屬地圖) 表面中 (黑色。</span><span class="sxs-lookup"><span data-stu-id="376ff-186">This map also contains the reflectance and diffuse information for metal (white in the metallic map) and insulator (black in the metallic map) surfaces respectively.</span></span>

### <a name="normal"></a><span data-ttu-id="376ff-187">正常</span><span class="sxs-lookup"><span data-stu-id="376ff-187">Normal</span></span>

<span data-ttu-id="376ff-188">正切空間一般地圖</span><span class="sxs-lookup"><span data-stu-id="376ff-188">Tangent Space Normal map</span></span>

### <a name="roughness-map"></a><span data-ttu-id="376ff-189">粗糙度圖</span><span class="sxs-lookup"><span data-stu-id="376ff-189">Roughness map</span></span>

<span data-ttu-id="376ff-190">描述物件的 microsurface。</span><span class="sxs-lookup"><span data-stu-id="376ff-190">Describes the microsurface of the object.</span></span> <span data-ttu-id="376ff-191">白色1.0 的黑色0.0 很平滑。</span><span class="sxs-lookup"><span data-stu-id="376ff-191">White 1.0 is rough Black 0.0 is smooth.</span></span> <span data-ttu-id="376ff-192">此對應會為資產提供最多字元，因為它會真正描述表面。</span><span class="sxs-lookup"><span data-stu-id="376ff-192">This map gives the asset the most character, as it truly describes the surface.</span></span> <span data-ttu-id="376ff-193">例如，劃痕、指紋、汙跡、grime 等等。</span><span class="sxs-lookup"><span data-stu-id="376ff-193">For example, scratches, fingerprints, smudges, grime, and so on.</span></span>

### <a name="ambient-occlusion-map"></a><span data-ttu-id="376ff-194">環境遮蔽對應</span><span class="sxs-lookup"><span data-stu-id="376ff-194">Ambient occlusion map</span></span>

<span data-ttu-id="376ff-195">值小數位數地圖，顯示 pixels occluded 光線的區域，以封鎖反射</span><span class="sxs-lookup"><span data-stu-id="376ff-195">Value scale map showing areas of occluded light, which blocks reflections</span></span>

### <a name="metallic-map"></a><span data-ttu-id="376ff-196">金屬圖</span><span class="sxs-lookup"><span data-stu-id="376ff-196">Metallic map</span></span>

<span data-ttu-id="376ff-197">指出著色器是否為金屬。</span><span class="sxs-lookup"><span data-stu-id="376ff-197">Tells the shader if something is metal or not.</span></span> <span data-ttu-id="376ff-198">原始金屬 = 1.0 白色非金屬 = 0.0 黑色。</span><span class="sxs-lookup"><span data-stu-id="376ff-198">Raw Metal = 1.0 white Non-metal = 0.0 black.</span></span> <span data-ttu-id="376ff-199">可能會有過渡的灰色值，表示涵蓋 raw 金屬（例如灰塵）的內容，但一般而言，此地圖應該是黑色和白色。</span><span class="sxs-lookup"><span data-stu-id="376ff-199">There can be transitional gray values that indicate something covering the raw metal such as dirt, but in general this map should be black and white only.</span></span>

## <a name="optimizations"></a><span data-ttu-id="376ff-200">最佳化</span><span class="sxs-lookup"><span data-stu-id="376ff-200">Optimizations</span></span>

<span data-ttu-id="376ff-201">Windows Mixed Reality home 在使用自訂延伸模組所定義的核心 glTF 規格之上，提供一系列的優化。</span><span class="sxs-lookup"><span data-stu-id="376ff-201">Windows Mixed Reality home offers a series of optimizations on top of the core glTF spec defined using custom extensions.</span></span> <span data-ttu-id="376ff-202"><= 1709 的 Windows 版本和建議在較新版本的 Windows 上，都需要進行這些優化。</span><span class="sxs-lookup"><span data-stu-id="376ff-202">These optimizations are required on Windows versions <= 1709 and recommended on newer versions of Windows.</span></span> <span data-ttu-id="376ff-203">您可以使用 [GitHub 上提供的 Windows Mixed Reality 資產轉換器](https://github.com/Microsoft/glTF-Toolkit/releases)，輕鬆地優化任何 glTF 2.0 模型。</span><span class="sxs-lookup"><span data-stu-id="376ff-203">You can easily optimize any glTF 2.0 model using the [Windows Mixed Reality Asset Converter available on GitHub](https://github.com/Microsoft/glTF-Toolkit/releases).</span></span> <span data-ttu-id="376ff-204">此工具會執行正確的材質封裝和優化，如下所示。</span><span class="sxs-lookup"><span data-stu-id="376ff-204">This tool will perform the correct texture packing and optimizations as specified below.</span></span> <span data-ttu-id="376ff-205">針對一般使用方式，我們建議使用 WindowsMRAssetConverter，但如果您需要更充分掌控體驗，而且想要建立自己的優化管線，您可以參考以下的詳細規格。</span><span class="sxs-lookup"><span data-stu-id="376ff-205">For general usage, we recommend using the WindowsMRAssetConverter, but if you need more control over the experience and would like to build your own optimization pipeline then you can refer to the detailed specification below.</span></span>  

> [!NOTE]
> <span data-ttu-id="376ff-206">如需確切的模型限制之可能性的完整清單，請參閱「 [3d 模型優化](https://docs.microsoft.com/dynamics365/mixed-reality/guides/3d-content-guidelines/optimize-models) 」一文，以在 Dynamics 365 應用程式中使用。</span><span class="sxs-lookup"><span data-stu-id="376ff-206">For a definitive list of what the possibilities are for exact model limits, refer to the [3D model optimization](https://docs.microsoft.com/dynamics365/mixed-reality/guides/3d-content-guidelines/optimize-models) article for use in Dynamics 365 applications.</span></span>

### <a name="materials"></a><span data-ttu-id="376ff-207">材質</span><span class="sxs-lookup"><span data-stu-id="376ff-207">Materials</span></span>

<span data-ttu-id="376ff-208">為了改善混合現實環境中的資產載入時間，Windows MR 支援根據本節中定義的材質封裝配置來呈現壓縮的 DDS 紋理。</span><span class="sxs-lookup"><span data-stu-id="376ff-208">To improve asset loading time in Mixed Reality environments Windows MR supports rendering compressed DDS textures packed according to the texture packing scheme defined in this section.</span></span> <span data-ttu-id="376ff-209">使用 [MSFT_texture_dds 擴充](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_texture_dds)功能參考 DDS 紋理。</span><span class="sxs-lookup"><span data-stu-id="376ff-209">DDS textures are referenced using the [MSFT_texture_dds extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_texture_dds).</span></span> <span data-ttu-id="376ff-210">強烈建議您壓縮紋理。</span><span class="sxs-lookup"><span data-stu-id="376ff-210">Compressing textures is highly recommended.</span></span> 

#### <a name="hololens"></a><span data-ttu-id="376ff-211">HoloLens</span><span class="sxs-lookup"><span data-stu-id="376ff-211">HoloLens</span></span>

<span data-ttu-id="376ff-212">HoloLens 型混合現實體驗預期會使用下列封裝規格，以使用雙紋理設定來封裝紋理：</span><span class="sxs-lookup"><span data-stu-id="376ff-212">HoloLens-based mixed reality experiences expect textures to be packed using a 2-texture setup using the following packing specification:</span></span>
<br>

|  <span data-ttu-id="376ff-213">glTF 屬性</span><span class="sxs-lookup"><span data-stu-id="376ff-213">glTF Property</span></span>  |  <span data-ttu-id="376ff-214">紋理</span><span class="sxs-lookup"><span data-stu-id="376ff-214">Texture</span></span>  |  <span data-ttu-id="376ff-215">封裝配置</span><span class="sxs-lookup"><span data-stu-id="376ff-215">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="376ff-216">pbrMetallicRoughness</span><span class="sxs-lookup"><span data-stu-id="376ff-216">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="376ff-217">baseColorTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-217">baseColorTexture</span></span>  |  <span data-ttu-id="376ff-218">紅色 (R) 、綠色 (G) 、藍色 (B) </span><span class="sxs-lookup"><span data-stu-id="376ff-218">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="376ff-219">MSFT_packing_normalRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="376ff-219">MSFT_packing_normalRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_normalRoughnessMetallic/README.md)  |  <span data-ttu-id="376ff-220">normalRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-220">normalRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="376ff-221">一般 (RG) 、粗糙度 (B) 、金屬 () </span><span class="sxs-lookup"><span data-stu-id="376ff-221">Normal (RG), Roughness (B), Metallic (A)</span></span> | 


<span data-ttu-id="376ff-222">壓縮 DDS 紋理時，每個對應預期會有下列壓縮：</span><span class="sxs-lookup"><span data-stu-id="376ff-222">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="376ff-223">紋理</span><span class="sxs-lookup"><span data-stu-id="376ff-223">Texture</span></span>  |  <span data-ttu-id="376ff-224">預期的壓縮</span><span class="sxs-lookup"><span data-stu-id="376ff-224">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="376ff-225">baseColorTexture, normalRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-225">baseColorTexture, normalRoughnessMetallicTexture</span></span> |  <span data-ttu-id="376ff-226">BC7</span><span class="sxs-lookup"><span data-stu-id="376ff-226">BC7</span></span> | 

#### <a name="immersive-vr-headsets"></a><span data-ttu-id="376ff-227">沉浸式 (VR) 耳機</span><span class="sxs-lookup"><span data-stu-id="376ff-227">Immersive (VR) headsets</span></span>

<span data-ttu-id="376ff-228">以電腦為 Windows Mixed Reality 的沉浸式 (VR) 耳機預期紋理會使用採用下列封裝規格的3紋理設定來封裝：</span><span class="sxs-lookup"><span data-stu-id="376ff-228">PC-based Windows Mixed Reality experiences for immersive (VR) headsets expect textures to be packed using a 3-texture setup using the following packing specification:</span></span>

##### <a name="windows-os--1803"></a><span data-ttu-id="376ff-229">Windows 作業系統 >= 1803</span><span class="sxs-lookup"><span data-stu-id="376ff-229">Windows OS >= 1803</span></span>

<br>

|  <span data-ttu-id="376ff-230">glTF 屬性</span><span class="sxs-lookup"><span data-stu-id="376ff-230">glTF Property</span></span>  |  <span data-ttu-id="376ff-231">紋理</span><span class="sxs-lookup"><span data-stu-id="376ff-231">Texture</span></span>  |  <span data-ttu-id="376ff-232">封裝配置</span><span class="sxs-lookup"><span data-stu-id="376ff-232">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="376ff-233">pbrMetallicRoughness</span><span class="sxs-lookup"><span data-stu-id="376ff-233">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="376ff-234">baseColorTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-234">baseColorTexture</span></span>  |  <span data-ttu-id="376ff-235">紅色 (R) 、綠色 (G) 、藍色 (B) </span><span class="sxs-lookup"><span data-stu-id="376ff-235">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="376ff-236">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="376ff-236">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="376ff-237">occlusionRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-237">occlusionRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="376ff-238">遮蔽 (R) 、粗糙度 (G) 、金屬 (B) </span><span class="sxs-lookup"><span data-stu-id="376ff-238">Occlusion (R), Roughness (G), Metallic (B)</span></span> | 
|  [<span data-ttu-id="376ff-239">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="376ff-239">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="376ff-240">normalTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-240">normalTexture</span></span>  |  <span data-ttu-id="376ff-241">一般 (RG) </span><span class="sxs-lookup"><span data-stu-id="376ff-241">Normal (RG)</span></span> | 

<span data-ttu-id="376ff-242">壓縮 DDS 紋理時，每個對應預期會有下列壓縮：</span><span class="sxs-lookup"><span data-stu-id="376ff-242">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="376ff-243">紋理</span><span class="sxs-lookup"><span data-stu-id="376ff-243">Texture</span></span>  |  <span data-ttu-id="376ff-244">預期的壓縮</span><span class="sxs-lookup"><span data-stu-id="376ff-244">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="376ff-245">normalTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-245">normalTexture</span></span>  |  <span data-ttu-id="376ff-246">BC5</span><span class="sxs-lookup"><span data-stu-id="376ff-246">BC5</span></span> | 
|  <span data-ttu-id="376ff-247">baseColorTexture, occlusionRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-247">baseColorTexture, occlusionRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="376ff-248">BC7</span><span class="sxs-lookup"><span data-stu-id="376ff-248">BC7</span></span> | 

##### <a name="windows-os--1709"></a><span data-ttu-id="376ff-249">Windows 作業系統 <= 1709</span><span class="sxs-lookup"><span data-stu-id="376ff-249">Windows OS <= 1709</span></span>
<br>

|  <span data-ttu-id="376ff-250">glTF 屬性</span><span class="sxs-lookup"><span data-stu-id="376ff-250">glTF Property</span></span>  |  <span data-ttu-id="376ff-251">紋理</span><span class="sxs-lookup"><span data-stu-id="376ff-251">Texture</span></span>  |  <span data-ttu-id="376ff-252">封裝配置</span><span class="sxs-lookup"><span data-stu-id="376ff-252">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="376ff-253">pbrMetallicRoughness</span><span class="sxs-lookup"><span data-stu-id="376ff-253">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="376ff-254">baseColorTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-254">baseColorTexture</span></span>  |  <span data-ttu-id="376ff-255">紅色 (R) 、綠色 (G) 、藍色 (B) </span><span class="sxs-lookup"><span data-stu-id="376ff-255">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="376ff-256">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="376ff-256">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="376ff-257">roughnessMetallicOcclusionTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-257">roughnessMetallicOcclusionTexture</span></span>  |  <span data-ttu-id="376ff-258">粗糙度 (R) 、金屬 (G) 、遮蔽 (B) </span><span class="sxs-lookup"><span data-stu-id="376ff-258">Roughness (R), Metallic (G), Occlusion (B)</span></span> | 
|  [<span data-ttu-id="376ff-259">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="376ff-259">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="376ff-260">normalTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-260">normalTexture</span></span>  |  <span data-ttu-id="376ff-261">一般 (RG) </span><span class="sxs-lookup"><span data-stu-id="376ff-261">Normal (RG)</span></span> | 

<span data-ttu-id="376ff-262">壓縮 DDS 紋理時，每個對應預期會有下列壓縮：</span><span class="sxs-lookup"><span data-stu-id="376ff-262">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="376ff-263">紋理</span><span class="sxs-lookup"><span data-stu-id="376ff-263">Texture</span></span>  |  <span data-ttu-id="376ff-264">預期的壓縮</span><span class="sxs-lookup"><span data-stu-id="376ff-264">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="376ff-265">normalTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-265">normalTexture</span></span>  |  <span data-ttu-id="376ff-266">BC5</span><span class="sxs-lookup"><span data-stu-id="376ff-266">BC5</span></span> | 
|  <span data-ttu-id="376ff-267">baseColorTexture, roughnessMetallicOcclusionTexture</span><span class="sxs-lookup"><span data-stu-id="376ff-267">baseColorTexture, roughnessMetallicOcclusionTexture</span></span> | <span data-ttu-id="376ff-268">BC7</span><span class="sxs-lookup"><span data-stu-id="376ff-268">BC7</span></span> |

### <a name="adding-mesh-lods"></a><span data-ttu-id="376ff-269">新增網狀 LODs</span><span class="sxs-lookup"><span data-stu-id="376ff-269">Adding mesh LODs</span></span>

<span data-ttu-id="376ff-270">Windows MR 使用幾何節點 LODs，根據螢幕上的涵蓋範圍，以不同的詳細資料層級呈現3D 模型。</span><span class="sxs-lookup"><span data-stu-id="376ff-270">Windows MR uses geometry node LODs to render 3D models in different levels of detail depending on on-screen coverage.</span></span> <span data-ttu-id="376ff-271">雖然這項功能在技術上並不是必要的，但建議用於所有資產。</span><span class="sxs-lookup"><span data-stu-id="376ff-271">While this feature is technically not required, it's recommended for all assets.</span></span> <span data-ttu-id="376ff-272">Windows 目前支援三個層級的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="376ff-272">Currently Windows supports 3 levels of detail.</span></span> <span data-ttu-id="376ff-273">預設」 LOD 為0，表示最高品質。</span><span class="sxs-lookup"><span data-stu-id="376ff-273">The default LOD is 0, which represents the highest quality.</span></span> <span data-ttu-id="376ff-274">其他 LODs 會依序編號，例如1、2，而且品質會逐漸降低。</span><span class="sxs-lookup"><span data-stu-id="376ff-274">Other LODs are numbered sequentially, for example, 1, 2 and get progressively lower in quality.</span></span> <span data-ttu-id="376ff-275">[Windows Mixed Reality 資產轉換器](https://github.com/Microsoft/glTF-Toolkit/releases)可接受多個 glTF 模型，並將其合併至具有有效」 lod 層級的單一資產，藉此支援產生符合此」 lod 規格的資產。</span><span class="sxs-lookup"><span data-stu-id="376ff-275">The [Windows Mixed Reality Asset Converter](https://github.com/Microsoft/glTF-Toolkit/releases) supports generating assets that meet this LOD specification by accepting multiple glTF models and merging them into a single asset with valid LOD levels.</span></span> <span data-ttu-id="376ff-276">下表概述預期的」 LOD 順序和三角形目標：</span><span class="sxs-lookup"><span data-stu-id="376ff-276">The following table outlines the expected LOD ordering and triangle targets:</span></span>
<br>

|  <span data-ttu-id="376ff-277">」 LOD 層級</span><span class="sxs-lookup"><span data-stu-id="376ff-277">LOD Level</span></span>  |  <span data-ttu-id="376ff-278">建議的三角形計數</span><span class="sxs-lookup"><span data-stu-id="376ff-278">Recommended Triangle Count</span></span>  |  <span data-ttu-id="376ff-279">最大三角形計數</span><span class="sxs-lookup"><span data-stu-id="376ff-279">Max Triangle Count</span></span> | 
|-------|-------|-------|
|  <span data-ttu-id="376ff-280">」 LOD 0</span><span class="sxs-lookup"><span data-stu-id="376ff-280">LOD 0</span></span> |  <span data-ttu-id="376ff-281">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-281">10,000</span></span> |  <span data-ttu-id="376ff-282">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-282">10,000</span></span> | 
|  <span data-ttu-id="376ff-283">」 LOD 1</span><span class="sxs-lookup"><span data-stu-id="376ff-283">LOD 1</span></span> |  <span data-ttu-id="376ff-284">5,000</span><span class="sxs-lookup"><span data-stu-id="376ff-284">5,000</span></span>  |  <span data-ttu-id="376ff-285">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-285">10,000</span></span> | 
|  <span data-ttu-id="376ff-286">」 LOD 2</span><span class="sxs-lookup"><span data-stu-id="376ff-286">LOD 2</span></span> |  <span data-ttu-id="376ff-287">2,500</span><span class="sxs-lookup"><span data-stu-id="376ff-287">2,500</span></span>  |  <span data-ttu-id="376ff-288">10,000</span><span class="sxs-lookup"><span data-stu-id="376ff-288">10,000</span></span> | 

<span data-ttu-id="376ff-289">使用 LODs 時，一律指定3個」 LOD 層級。</span><span class="sxs-lookup"><span data-stu-id="376ff-289">When using LODs always specify 3 LOD levels.</span></span> <span data-ttu-id="376ff-290">遺漏 LODs 會導致模型不會因為」 LOD 系統切換至遺失的」 LOD 層級而非預期地呈現。</span><span class="sxs-lookup"><span data-stu-id="376ff-290">Missing LODs will cause the model to not render unexpectedly as the LOD system switches to the missing LOD level.</span></span> <span data-ttu-id="376ff-291">glTF 2.0 目前不支援 LODs 作為核心規格的一部分。 LODs 應使用 [MSFT_LOD 擴充](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod)功能來定義。</span><span class="sxs-lookup"><span data-stu-id="376ff-291">glTF 2.0 doesn't currently support LODs as part of the core spec. LODs should be defined using the [MSFT_LOD extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span></span>

### <a name="screen-coverage"></a><span data-ttu-id="376ff-292">螢幕涵蓋範圍</span><span class="sxs-lookup"><span data-stu-id="376ff-292">Screen coverage</span></span>

<span data-ttu-id="376ff-293">LODs 會根據每個」 LOD 上設定的螢幕涵蓋範圍值所驅動的系統，在 Windows Mixed Reality 中顯示。</span><span class="sxs-lookup"><span data-stu-id="376ff-293">LODs are displayed in Windows Mixed Reality based on a system driven by the screen coverage value set on each LOD.</span></span> <span data-ttu-id="376ff-294">目前耗用較大部分螢幕空間的物件會顯示在較高的」 LOD 層級上。</span><span class="sxs-lookup"><span data-stu-id="376ff-294">Objects that are currently consuming a larger portion of the screen space are displayed at a higher LOD level.</span></span> <span data-ttu-id="376ff-295">螢幕涵蓋範圍不是核心 glTF 2.0 規格的一部分，而且必須使用 [MSFT_lod 擴充](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod)功能的 [額外專案] 區段中的 MSFT_ScreenCoverage 來指定。</span><span class="sxs-lookup"><span data-stu-id="376ff-295">Screen coverage isn't a part of the core glTF 2.0 spec and must be specified using MSFT_ScreenCoverage in the “extras” section of the [MSFT_lod extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span></span>
<br>

|  <span data-ttu-id="376ff-296">」 LOD 層級</span><span class="sxs-lookup"><span data-stu-id="376ff-296">LOD Level</span></span>  |  <span data-ttu-id="376ff-297">建議的範圍</span><span class="sxs-lookup"><span data-stu-id="376ff-297">Recommended Range</span></span>  |  <span data-ttu-id="376ff-298">預設範圍</span><span class="sxs-lookup"><span data-stu-id="376ff-298">Default Range</span></span> | 
|-------|-------|-------|
|  <span data-ttu-id="376ff-299">」 LOD 0</span><span class="sxs-lookup"><span data-stu-id="376ff-299">LOD 0</span></span>  |  <span data-ttu-id="376ff-300">100%-50%</span><span class="sxs-lookup"><span data-stu-id="376ff-300">100% - 50%</span></span> |  <span data-ttu-id="376ff-301">0.5</span><span class="sxs-lookup"><span data-stu-id="376ff-301">0.5</span></span> | 
|  <span data-ttu-id="376ff-302">」 LOD 1</span><span class="sxs-lookup"><span data-stu-id="376ff-302">LOD 1</span></span> |  <span data-ttu-id="376ff-303">低於 50%-20%</span><span class="sxs-lookup"><span data-stu-id="376ff-303">Under 50% - 20%</span></span>  |  <span data-ttu-id="376ff-304">0.2</span><span class="sxs-lookup"><span data-stu-id="376ff-304">0.2</span></span> | 
|  <span data-ttu-id="376ff-305">」 LOD 2</span><span class="sxs-lookup"><span data-stu-id="376ff-305">LOD 2</span></span> |  <span data-ttu-id="376ff-306">低於 20%-1%</span><span class="sxs-lookup"><span data-stu-id="376ff-306">Under 20% - 1%</span></span>  |  <span data-ttu-id="376ff-307">0.01</span><span class="sxs-lookup"><span data-stu-id="376ff-307">0.01</span></span> | 
|  <span data-ttu-id="376ff-308">」 LOD 4</span><span class="sxs-lookup"><span data-stu-id="376ff-308">LOD 4</span></span>  |  <span data-ttu-id="376ff-309">低於1%</span><span class="sxs-lookup"><span data-stu-id="376ff-309">Under 1%</span></span>  |  - | 

## <a name="animation-guidelines"></a><span data-ttu-id="376ff-310">動畫指導方針</span><span class="sxs-lookup"><span data-stu-id="376ff-310">Animation guidelines</span></span>

> [!NOTE]
> <span data-ttu-id="376ff-311">這項功能已新增為 [Windows 10 2018 年4月更新](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/release-notes-april-2018)的一部分。</span><span class="sxs-lookup"><span data-stu-id="376ff-311">This feature was added as part of [Windows 10 April 2018 Update](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/release-notes-april-2018).</span></span> <span data-ttu-id="376ff-312">在舊版的 Windows 上，這些動畫不會播放，不過，如果是根據本文中的指導方針來撰寫，它們仍會載入。</span><span class="sxs-lookup"><span data-stu-id="376ff-312">On older versions of Windows these animations won't play back, however, they will still load if authored according to the guidance in this article.</span></span>  

<span data-ttu-id="376ff-313">混合實境首頁支援 HoloLens 和沉浸式 (VR) 耳機上的動畫 glTF 物件。</span><span class="sxs-lookup"><span data-stu-id="376ff-313">The mixed reality home supports animated glTF objects on HoloLens and immersive (VR) headsets.</span></span> <span data-ttu-id="376ff-314">如果您想要在模型上觸發動畫，您必須使用 glTF 格式的動畫地圖延伸模組。</span><span class="sxs-lookup"><span data-stu-id="376ff-314">If you wish to trigger animations on your model, you'll need to use the Animation Map extension on the glTF format.</span></span> <span data-ttu-id="376ff-315">此延伸模組可讓您根據使用者在世界中的目前狀態，在 glTF 模型中觸發動畫，例如，當使用者接近物件或正在查看動畫時，觸發動畫。</span><span class="sxs-lookup"><span data-stu-id="376ff-315">This extension lets you trigger animations in the glTF model based on the user's presence in the world, for example trigger an animation when the user is close to the object or while they're looking at it.</span></span> <span data-ttu-id="376ff-316">如果您 glTF 物件具有動畫，但未定義觸發程式，則不會播放動畫。</span><span class="sxs-lookup"><span data-stu-id="376ff-316">If you glTF object has animations, but doesn't define triggers the animations won't be played back.</span></span> <span data-ttu-id="376ff-317">下一節描述將這些觸發程式新增至任何動畫 glTF 物件的工作流程。</span><span class="sxs-lookup"><span data-stu-id="376ff-317">The section below describes one workflow for adding these triggers to any animated glTF object.</span></span>

### <a name="tools"></a><span data-ttu-id="376ff-318">工具</span><span class="sxs-lookup"><span data-stu-id="376ff-318">Tools</span></span>

<span data-ttu-id="376ff-319">首先，請下載下列工具（如果您還沒有的話）。</span><span class="sxs-lookup"><span data-stu-id="376ff-319">First, download the following tools if you don't have them already.</span></span> <span data-ttu-id="376ff-320">這些工具可讓您輕鬆地開啟任何 glTF 模型、預覽、變更，以及將其存回 glTF 或 glb：</span><span class="sxs-lookup"><span data-stu-id="376ff-320">These tools will make it easy to open any glTF model, preview it, make changes and save back out as glTF or .glb:</span></span>
1. [<span data-ttu-id="376ff-321">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="376ff-321">Visual Studio Code</span></span>](https://code.visualstudio.com/)
2. [<span data-ttu-id="376ff-322">適用于 Visual Studio Code 的 glTF 工具</span><span class="sxs-lookup"><span data-stu-id="376ff-322">glTF Tools for Visual Studio Code</span></span>](https://marketplace.visualstudio.com/items?itemName=cesium.gltf-vscode)


### <a name="opening-and-previewing-the-model"></a><span data-ttu-id="376ff-323">開啟和預覽模型</span><span class="sxs-lookup"><span data-stu-id="376ff-323">Opening and previewing the model</span></span>

<span data-ttu-id="376ff-324">首先，在 VSCode 中開啟 glTF 模型，方法是將 glTF 檔案拖曳至編輯器視窗。</span><span class="sxs-lookup"><span data-stu-id="376ff-324">Start by opening up the glTF model in VSCode by dragging the .glTF file into the editor window.</span></span> <span data-ttu-id="376ff-325">如果您有 glb 而不是 glTF 檔案，您可以使用您下載的 glTF 工具附加元件，將其匯入 VSCode。</span><span class="sxs-lookup"><span data-stu-id="376ff-325">If you've a .glb instead of a .glTF file you can import it into VSCode using the glTF Tools addon that you downloaded.</span></span> <span data-ttu-id="376ff-326">移至 [View-> 命令選擇區]，然後在命令選擇區中開始輸入 "glTF"，然後選取 [glTF： Import from glb]，這會顯示檔案選擇器，讓您用來匯入 glb。</span><span class="sxs-lookup"><span data-stu-id="376ff-326">Go to "View -> Command Palette" and then begin typing "glTF" in the command palette and select "glTF: Import from glb", which will pop up a file picker for you to import a .glb with.</span></span> 

<span data-ttu-id="376ff-327">開啟 glTF 模型之後，您應該會在編輯器視窗中看到 JSON。</span><span class="sxs-lookup"><span data-stu-id="376ff-327">Once you've opened your glTF model, you should see the JSON in the editor window.</span></span> <span data-ttu-id="376ff-328">您也可以使用滑鼠右鍵按一下檔案名，然後選取右鍵功能表中的 [glTF： Preview 3D 模型] 命令快捷方式，以在即時3D 檢視器中預覽模型。</span><span class="sxs-lookup"><span data-stu-id="376ff-328">You can also preview the model in a live 3D viewer using the by right-clicking the file name and selecting the "glTF: Preview 3D Model" command shortcut from the right click menu.</span></span> 

### <a name="adding-the-triggers"></a><span data-ttu-id="376ff-329">新增觸發程式</span><span class="sxs-lookup"><span data-stu-id="376ff-329">Adding the triggers</span></span>

<span data-ttu-id="376ff-330">動畫觸發程式會使用動畫地圖延伸模組加入至 glTF 模型 JSON。</span><span class="sxs-lookup"><span data-stu-id="376ff-330">Animation triggers are added to glTF model JSON using the Animation Map extension.</span></span> <span data-ttu-id="376ff-331">動畫地圖延伸模組會 [在 GitHub 上](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) 公開記載 (注意：這是) 的草稿延伸模組。</span><span class="sxs-lookup"><span data-stu-id="376ff-331">The animation map extension is publicly documented [here on GitHub](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) (NOTE: THIS IS A DRAFT EXTENSION).</span></span> <span data-ttu-id="376ff-332">若要將擴充功能新增至您的模型，只需在編輯器中 glTF 檔案的結尾，並將 "extensionsUsed" 和 "extension" 區塊新增至檔案（如果它們還不存在的話）。</span><span class="sxs-lookup"><span data-stu-id="376ff-332">To add the extension to your model just scroll to the end of the glTF file in the editor and add the "extensionsUsed" and "extensions" block to your file if they don't already exist.</span></span> <span data-ttu-id="376ff-333">在 "extensionsUsed" 區段中，您會新增 "EXT_animation_map" 擴充功能的參考，而在 "extensions" 區塊中，您會將對應加入至模型中的動畫。</span><span class="sxs-lookup"><span data-stu-id="376ff-333">In the "extensionsUsed" section, you'll add a reference to the "EXT_animation_map" extension and in the "extensions" block you'll add your mappings to the animations in the model.</span></span>

<span data-ttu-id="376ff-334">如同 [在規格中](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) 所述，您定義了在 "動畫" 清單上使用 "語義" 字串觸發動畫的結果，這是動畫索引的陣列。</span><span class="sxs-lookup"><span data-stu-id="376ff-334">As noted [in the spec](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) you define what triggers the animation using the "semantic" string on a list of "animations", which is an array of animation indices.</span></span> <span data-ttu-id="376ff-335">在下列範例中，我們已指定在物件上撥雲見日使用者時要播放的動畫：</span><span class="sxs-lookup"><span data-stu-id="376ff-335">In the example below we've specified the animation to play while the user is gazing at the object:</span></span>

```json
  "extensionsUsed": [
    "EXT_animation_map"
  ],
  "extensions" : {
      "EXT_animation_map" : {
            "bindings": [
                {
                    "semantic": "GAZE",
                    "animations": [0]
                }
            ]
      }
  }
```
<span data-ttu-id="376ff-336">Windows Mixed Reality home 支援下列動畫觸發語義。</span><span class="sxs-lookup"><span data-stu-id="376ff-336">The following animation triggers semantics are supported by the Windows Mixed Reality home.</span></span>  
* <span data-ttu-id="376ff-337">「永遠」：持續迴圈動畫</span><span class="sxs-lookup"><span data-stu-id="376ff-337">"ALWAYS": Constantly loop an animation</span></span>
* <span data-ttu-id="376ff-338">「已保留」：在整個持續期間內，物件被抓取的迴圈。</span><span class="sxs-lookup"><span data-stu-id="376ff-338">"HELD": Looped during the entire duration an object is grabbed.</span></span>
* <span data-ttu-id="376ff-339">「注視」：正在查看物件時迴圈</span><span class="sxs-lookup"><span data-stu-id="376ff-339">"GAZE": Looped  while an object is being looked at</span></span>
* <span data-ttu-id="376ff-340">「鄰近性」：當檢視器接近物件時進行迴圈</span><span class="sxs-lookup"><span data-stu-id="376ff-340">"PROXIMITY": Looped while a viewer is near to an object</span></span>
* <span data-ttu-id="376ff-341">「指向」：當使用者指向物件時迴圈</span><span class="sxs-lookup"><span data-stu-id="376ff-341">"POINTING": Looped while a user is pointing at an object</span></span>

### <a name="saving-and-exporting"></a><span data-ttu-id="376ff-342">儲存和匯出</span><span class="sxs-lookup"><span data-stu-id="376ff-342">Saving and exporting</span></span>

<span data-ttu-id="376ff-343">變更 glTF 模型之後，您可以直接將其儲存為 glTF。</span><span class="sxs-lookup"><span data-stu-id="376ff-343">Once you've made the changes to your glTF model, you can save it directly as glTF.</span></span> <span data-ttu-id="376ff-344">您也可以在編輯器中的檔案名上按一下滑鼠右鍵，然後選取 [glTF： Export to GLB (binary file) ] 以匯出 GLB。</span><span class="sxs-lookup"><span data-stu-id="376ff-344">You can also right-click the name of the file in the editor and select "glTF: Export to GLB (binary file)" to export a .glb.</span></span> 

### <a name="restrictions"></a><span data-ttu-id="376ff-345">限制</span><span class="sxs-lookup"><span data-stu-id="376ff-345">Restrictions</span></span>

<span data-ttu-id="376ff-346">動畫的長度不能超過20分鐘，且不能包含超過36000的主要畫面格 (20 分鐘的 30 FPS) 。</span><span class="sxs-lookup"><span data-stu-id="376ff-346">Animations can't be longer than 20 minutes and can't contain more than 36,000 keyframes (20 mins at 30 FPS).</span></span> <span data-ttu-id="376ff-347">此外，使用以平滑目標為基礎的動畫時，不會超過8192的變形目標頂點或較少。</span><span class="sxs-lookup"><span data-stu-id="376ff-347">Additionally when using morph target-based animations don't exceed 8192 morph target vertices or less.</span></span> <span data-ttu-id="376ff-348">超過這些計數會導致 Windows Mixed Reality 首頁不支援動畫資產。</span><span class="sxs-lookup"><span data-stu-id="376ff-348">Exceeding these counts will cause the animated asset to be unsupported in the Windows Mixed Reality home.</span></span> 

|<span data-ttu-id="376ff-349">功能</span><span class="sxs-lookup"><span data-stu-id="376ff-349">Feature</span></span>|<span data-ttu-id="376ff-350">最大值</span><span class="sxs-lookup"><span data-stu-id="376ff-350">Maximum</span></span>|
|-----|-----|
|<span data-ttu-id="376ff-351">持續時間</span><span class="sxs-lookup"><span data-stu-id="376ff-351">Duration</span></span>|<span data-ttu-id="376ff-352">20 分鐘</span><span class="sxs-lookup"><span data-stu-id="376ff-352">20 minutes</span></span>|
|<span data-ttu-id="376ff-353">關鍵 幀</span><span class="sxs-lookup"><span data-stu-id="376ff-353">Keyframes</span></span>|<span data-ttu-id="376ff-354">36000</span><span class="sxs-lookup"><span data-stu-id="376ff-354">36,000</span></span>| 
|<span data-ttu-id="376ff-355">變形目標頂點</span><span class="sxs-lookup"><span data-stu-id="376ff-355">Morph Target Vertices</span></span>|<span data-ttu-id="376ff-356">8192</span><span class="sxs-lookup"><span data-stu-id="376ff-356">8192</span></span>|

## <a name="gltf-implementation-notes"></a><span data-ttu-id="376ff-357">glTF 執行注意事項</span><span class="sxs-lookup"><span data-stu-id="376ff-357">glTF Implementation notes</span></span>

<span data-ttu-id="376ff-358">Windows MR 不支援使用負面比例來翻轉幾何。</span><span class="sxs-lookup"><span data-stu-id="376ff-358">Windows MR doesn't support flipping geometry using negative scales.</span></span> <span data-ttu-id="376ff-359">具有負值縮放的幾何很可能會導致視覺效果成品。</span><span class="sxs-lookup"><span data-stu-id="376ff-359">Geometry with negative scales will likely result in visual artifacts.</span></span>

<span data-ttu-id="376ff-360">GlTF 資產必須指向使用 Windows MR 轉譯的場景屬性的預設場景。</span><span class="sxs-lookup"><span data-stu-id="376ff-360">The glTF asset MUST point to the default scene using the scene attribute to be rendered by Windows MR.</span></span> <span data-ttu-id="376ff-361">此外， [Windows 10 2018 年4月更新](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/release-notes-april-2018)之前的 Windows MR glTF 載入器 **需要** 存取子：</span><span class="sxs-lookup"><span data-stu-id="376ff-361">Additionally the Windows MR glTF loader before the [Windows 10 April 2018 update](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/release-notes-april-2018) **requires** accessors:</span></span>
* <span data-ttu-id="376ff-362">必須具有最小值和最大值。</span><span class="sxs-lookup"><span data-stu-id="376ff-362">Must have min and max values.</span></span>
* <span data-ttu-id="376ff-363">型別純量必須為 componentType UNSIGNED_SHORT (5123) 或 UNSIGNED_INT (5125) 。</span><span class="sxs-lookup"><span data-stu-id="376ff-363">Type SCALAR must be componentType UNSIGNED_SHORT (5123) or UNSIGNED_INT (5125).</span></span>
* <span data-ttu-id="376ff-364">類型 VEC2 和 VEC3 必須是 componentType FLOAT (5126) 。</span><span class="sxs-lookup"><span data-stu-id="376ff-364">Type VEC2 and VEC3 must be componentType FLOAT (5126).</span></span>

<span data-ttu-id="376ff-365">下列材質屬性是從 core glTF 2.0 規格中使用，但不是必要的：</span><span class="sxs-lookup"><span data-stu-id="376ff-365">The following material properties are used from core glTF 2.0 spec but not required:</span></span>
* <span data-ttu-id="376ff-366">baseColorFactor, metallicFactor, roughnessFactor</span><span class="sxs-lookup"><span data-stu-id="376ff-366">baseColorFactor, metallicFactor, roughnessFactor</span></span>
* <span data-ttu-id="376ff-367">baseColorTexture：必須指向儲存在 dds 中的材質。</span><span class="sxs-lookup"><span data-stu-id="376ff-367">baseColorTexture: Must point to a texture stored in dds.</span></span>
* <span data-ttu-id="376ff-368">emissiveTexture：必須指向儲存在 dds 中的材質。</span><span class="sxs-lookup"><span data-stu-id="376ff-368">emissiveTexture: Must point to a texture stored in dds.</span></span>
* <span data-ttu-id="376ff-369">emissiveFactor</span><span class="sxs-lookup"><span data-stu-id="376ff-369">emissiveFactor</span></span>
* <span data-ttu-id="376ff-370">AlphaMode</span><span class="sxs-lookup"><span data-stu-id="376ff-370">alphaMode</span></span>

<span data-ttu-id="376ff-371">核心規格會忽略下列材質屬性：</span><span class="sxs-lookup"><span data-stu-id="376ff-371">The following material properties are ignored from core spec:</span></span>
* <span data-ttu-id="376ff-372">所有多 UVs</span><span class="sxs-lookup"><span data-stu-id="376ff-372">All Multi-UVs</span></span>
* <span data-ttu-id="376ff-373">metalRoughnessTexture：必須改為使用下列定義的 Microsoft 優化材質封裝</span><span class="sxs-lookup"><span data-stu-id="376ff-373">metalRoughnessTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="376ff-374">normalTexture：必須改為使用下列定義的 Microsoft 優化材質封裝</span><span class="sxs-lookup"><span data-stu-id="376ff-374">normalTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="376ff-375">normalScale</span><span class="sxs-lookup"><span data-stu-id="376ff-375">normalScale</span></span>
* <span data-ttu-id="376ff-376">occlusionTexture：必須改為使用下列定義的 Microsoft 優化材質封裝</span><span class="sxs-lookup"><span data-stu-id="376ff-376">occlusionTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="376ff-377">occlusionStrength</span><span class="sxs-lookup"><span data-stu-id="376ff-377">occlusionStrength</span></span>

<span data-ttu-id="376ff-378">Windows MR 不支援基本模式線和點。</span><span class="sxs-lookup"><span data-stu-id="376ff-378">Windows MR doesn't support primitive mode lines and points.</span></span> 

<span data-ttu-id="376ff-379">僅支援單一 UV 頂點屬性。</span><span class="sxs-lookup"><span data-stu-id="376ff-379">Only a single UV vertex attribute is supported.</span></span>

## <a name="more-resources"></a><span data-ttu-id="376ff-380">其他資源</span><span class="sxs-lookup"><span data-stu-id="376ff-380">More resources</span></span>

* [<span data-ttu-id="376ff-381">glTF 匯出工具和轉換器</span><span class="sxs-lookup"><span data-stu-id="376ff-381">glTF Exporters and Converters</span></span>](https://github.com/KhronosGroup/glTF#converters-and-exporters)
* [<span data-ttu-id="376ff-382">glTF 工具組</span><span class="sxs-lookup"><span data-stu-id="376ff-382">glTF Toolkit</span></span>](https://github.com/Microsoft/glTF-Toolkit)
* [<span data-ttu-id="376ff-383">glTF 2.0 規格</span><span class="sxs-lookup"><span data-stu-id="376ff-383">glTF 2.0 Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/README.md)
* [<span data-ttu-id="376ff-384">Microsoft glTF」 LOD 延伸模組規格</span><span class="sxs-lookup"><span data-stu-id="376ff-384">Microsoft glTF LOD Extension Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_lod/README.md)
* [<span data-ttu-id="376ff-385">PC Mixed Reality 材質封裝延伸模組規格</span><span class="sxs-lookup"><span data-stu-id="376ff-385">PC Mixed Reality Texture Packing Extensions Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)
* [<span data-ttu-id="376ff-386">HoloLens 混合現實材質封裝延伸模組規格</span><span class="sxs-lookup"><span data-stu-id="376ff-386">HoloLens Mixed Reality Texture Packing Extensions Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_normalRoughnessMetallic/README.md)
* [<span data-ttu-id="376ff-387">Microsoft DDS 紋理 glTF 延伸模組規格</span><span class="sxs-lookup"><span data-stu-id="376ff-387">Microsoft DDS Textures glTF extensions specification</span></span>](https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds)

## <a name="see-also"></a><span data-ttu-id="376ff-388">請參閱</span><span class="sxs-lookup"><span data-stu-id="376ff-388">See also</span></span>

* [<span data-ttu-id="376ff-389">實作 3D 應用程式啟動器 (UWP 應用程式)</span><span class="sxs-lookup"><span data-stu-id="376ff-389">Implement 3D app launchers (UWP apps)</span></span>](implementing-3d-app-launchers.md)
* [<span data-ttu-id="376ff-390">實作 3D 應用程式啟動器 (Win32 應用程式)</span><span class="sxs-lookup"><span data-stu-id="376ff-390">Implement 3D app launchers (Win32 apps)</span></span>](implementing-3d-app-launchers-win32.md)
* [<span data-ttu-id="376ff-391">瀏覽 Windows Mixed Reality 住家</span><span class="sxs-lookup"><span data-stu-id="376ff-391">Navigating the Windows Mixed Reality home</span></span>](../discover/navigating-the-windows-mixed-reality-home.md)
